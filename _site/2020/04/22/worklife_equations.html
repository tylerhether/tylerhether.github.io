<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Solving for work/life balance</title>
  <meta name="description" content="MotivationIt’s April 2020 and the world has come to a grinding halt with Covid-19. In hindsight, I think we saw this coming (I’m looking back at SARS and MER...">
  <link href='https://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,200,300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Josefin+Sans:400,600,700,300' rel='stylesheet' type='text/css'>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/css/style.css">
  <link rel="canonical" href="http://tylerhether.github.io/2020/04/22/worklife_equations.html">
  <link rel="alternate" type="application/rss+xml" title="tyler hether" href="http://tylerhether.github.io/feed.xml">

  <!-- Mathjax Support -->
  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</head>


  <body>

    
<div class="wrapper">
  <center> <a href="/index.html"><div class="site-title">   tyler hether </div></a></center>
</div>
<div class="wrapper site-description">
<center>  data scientist | family bike and outdoor enthusiast </center>
</div>
<div class="wrapper">
  <div class="trigger site-navigation">
    <a class="page-link" href="/index.html">HOME</a><span class="exclamationMark">/</span>

    
    

    <a class="page-link" href="/About/">About</a><span class="exclamationMark">/</span>
    
    
    

    <a class="page-link" href="/CV/">Resume</a><span class="exclamationMark">/</span>
    
    
    

    <a class="page-link" href="/Downloads/">Downloads</a><span class="exclamationMark">/</span>
    
    
    
    
    
    
    

    <a class="page-link" href="/Publications/">Publications</a><span class="exclamationMark">/</span>
    
    
    
    
  </div>
</div>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline"><a class="post-title-link"  href="/2020/04/22/worklife_equations.html">Solving for work/life balance</a></h1>
  <center>  <p class="post-meta"><time datetime="2020-04-22T10:30:31-07:00" itemprop="datePublished">Apr 22, 2020</time></p>
    
   </center>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2 id="motivation">Motivation</h2>
<p>It’s April 2020 and the world has come to a grinding halt with Covid-19. In hindsight, I think we saw this coming (I’m looking back at SARS and MERS). The silver lining of this tragedy–in my humble opinion–is how open scientists and physicians are at sharing what they learn and how the community as a whole is working together to come up with a solution – at least for the moment. Covid-19 is not the main subject of this post, <em>per se</em>, because there are plenty of other researchers doing great science. So what am I going to talk about? Well, this pandemic actually brings up something that is affecting a lot of us: work/life balance.</p>

<p>One of the most effective things we have in our tiny arsenal against spreading SARS-CoV-2 is social isolation so, those who can, are working from home. Here, the balance of work pressures and life pressures has been off-kilter. Normally, working from home for me is a mix of working at my little home office or the corner coffee shop or library by my house. In either case, kids are not a problem because of the nanny and school. But in April 2020, the schools are closed, the library is closed, the nanny is quarantined following an ER visit (unrelated), and I honestly don’t think that coffee shop will ever reopen after this hit. Yikes!</p>

<p>Life is, of course, stochastic. There are many different factors at play and some are just random or dumb luck. Nevertheless, I thought it would be a fun exercise to model how one’s wellbeing can positively contribute to work and how work, in turn, might influence someone’s wellbeing (e.g., a paycheck, contributing to a worthy cause). However, there is only so much work that one can do before it starts to affect life.</p>

<p>So there’s feedback here but how exactly work and life feed into each other seem to be different for every person. For example, do you know some people who seem to roll with every punch? Little disturbances seem to just bounce off them and the quickly find themselves right back at their steady-state. For others, disturbances can really throw off things and they find themselves spiraling and having trouble balancing between different work and life pressures under a fixed time interval.</p>

<p>While this is a fun exercise I did while sitting at home under the stay-at-home order, my hope is that this model might train some intuition about bouncing back from big work or life events. So here we go.</p>

<h2 id="the-model">The model</h2>
<p>Let’s consider <script type="math/tex">x</script> to be proportional to one’s wellbeing and let <script type="math/tex">y</script> be proportional to their work productivity. A system of differential equations for the change of <script type="math/tex">x</script> and <script type="math/tex">y</script> across time might look like this:</p>

<script type="math/tex; mode=display">\begin{matrix}
\frac{dx}{dt}= x (1 - \frac{x}{K}) - \frac{x y}{x + \theta} \\
\frac{dy}{dt}= \frac{x y}{x + \theta} - \frac{1}{4} y
\end{matrix}</script>

<p>where <script type="math/tex">K</script> is the maximum level of wellbeing. This level is set by the individual and ties in all of the “needs” to achieve their desired wellbeing. Needs could include material things, home size, and proximity to shops, <em>etc</em>. The parameter <script type="math/tex">\theta</script> is related to the intensity of work pressure. Note that the interaction term that contains <script type="math/tex">\theta</script> is the functional response and depends on wellbeing as well as current levels of work productivity. To see how this interaction behaves, take a look at the plot below where the work productivity is held constant (at 100) and both wellbeing and <script type="math/tex">\theta</script> vary.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="m">200</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="m">0.01</span><span class="p">)</span><span class="w">
</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">100</span><span class="w">
</span><span class="n">theta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="m">210</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="m">20</span><span class="p">)</span><span class="w">

</span><span class="n">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">expand.grid</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">)</span><span class="w">

</span><span class="n">dat</span><span class="o">$</span><span class="n">response</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">apply</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">a</span><span class="p">){</span><span class="w">
  </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="c1"># explicitly labeled here for readability
</span><span class="w">  </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="w">
  </span><span class="n">theta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="w">
  </span><span class="nf">return</span><span class="p">((</span><span class="o">-</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">theta</span><span class="p">))</span><span class="w">
</span><span class="p">})</span><span class="w">
</span><span class="n">dat</span><span class="o">$</span><span class="n">theta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="n">dat</span><span class="o">$</span><span class="n">theta</span><span class="p">)</span><span class="w">

</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dat</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">group</span><span class="o">=</span><span class="n">theta</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
     </span><span class="n">geom_line</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">colour</span><span class="o">=</span><span class="n">theta</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
     </span><span class="n">theme_light</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
     </span><span class="n">ylab</span><span class="p">(</span><span class="s2">"Change in wellbeing from the interaction term"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
     </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"Wellbeing (X) when holding Y to 100"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="/img/blog_images/worklife_equations_files/figure-html/unnamed-chunk-1-1.png" alt="" /><!-- --></p>

<p>You can see that small values of <script type="math/tex">\theta</script> translate to a large response (greater negative) for any given value of wellbeing. In other words, if both wellbeing and <script type="math/tex">\theta</script> are small, the response is large and negative compared to cases where either wellbeing or <script type="math/tex">\theta</script> are larger. Setting smaller values of <script type="math/tex">y</script> does not change the relative shape of these different curves but does change the absolute magnitude–the y-axis scale–of change since it’s present in the numerator (data not shown).</p>

<p>In this model, the instantaneous change in work productivity, <script type="math/tex">\frac{dy}{dt}</script>, is positively affected by this interaction term. And in the absence of any wellbeing, I arbitrarily set the model to decrease the productivity amount by a quarter.</p>

<h2 id="model-behavior">Model behavior</h2>
<p>Okay, so how does this model behave? Let’s first look at the x- and y-isoclines. The equilibria values are where any x-isocline intersects with any y-isocline (but we can also solve for these equilibria directly). The isoclines are determined by setting the respective equations to zero and solving.</p>

<p>For the x-isoclines, the solutions are <script type="math/tex">x=0</script> and <script type="math/tex">y=\frac{(K-x)(\theta+x)}{K}</script>. The first is just a vertical line and the second is a curve that resembles this:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="m">35</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="m">0.01</span><span class="p">)</span><span class="w">
</span><span class="n">theta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">10</span><span class="w">
</span><span class="n">k</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">30</span><span class="w">
</span><span class="n">fofx</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">){</span><span class="w">
     </span><span class="nf">return</span><span class="p">(((</span><span class="n">k</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">theta</span><span class="o">+</span><span class="n">x</span><span class="p">))</span><span class="o">/</span><span class="n">k</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">fofx</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">),</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"Work Productivity"</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="o">=</span><span class="s2">"Wellbeing"</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"l"</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dotdash"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">xlim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">35</span><span class="p">),</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">),</span><span class="w"> </span><span class="n">main</span><span class="o">=</span><span class="nf">expression</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">"x-isoclines; "</span><span class="p">,</span><span class="w"> </span><span class="n">plain</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span><span class="w"> </span><span class="s2">"=10  and  "</span><span class="p">,</span><span class="n">plain</span><span class="p">(</span><span class="n">K</span><span class="p">),</span><span class="w"> </span><span class="s2">"=30"</span><span class="p">)))</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">v</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dotdash"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"red"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="/img/blog_images/worklife_equations_files/figure-html/unnamed-chunk-2-1.png" alt="" /><!-- --></p>

<p>These are locations where the work/life balance trajectories only go into the vertical position (up and down).</p>

<p>For the y-isoclines, we get one horizontal line (<script type="math/tex">y=0</script>) and one vertical line (<script type="math/tex">x=\frac{\theta}{3}</script>). These are the locations where work/life trajectories only go into the horizontal position (left and right).</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">xlim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">35</span><span class="p">),</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">),</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"Work Productivity"</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="o">=</span><span class="s2">"Wellbeing"</span><span class="p">,</span><span class="w">  </span><span class="n">main</span><span class="o">=</span><span class="nf">expression</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">"y-isoclines; "</span><span class="p">,</span><span class="w"> </span><span class="n">plain</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span><span class="w"> </span><span class="s2">"=10"</span><span class="p">)))</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">v</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dashed"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">)</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dashed"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="/img/blog_images/worklife_equations_files/figure-html/unnamed-chunk-3-1.png" alt="" /><!-- --></p>

<p>And putting these all together and picking some values of <script type="math/tex">\theta</script> (10) and <script type="math/tex">K</script> (30), we get all the isoclines:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="m">35</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="m">0.01</span><span class="p">)</span><span class="w">
</span><span class="n">theta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">10</span><span class="w">
</span><span class="n">k</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">30</span><span class="w">
</span><span class="n">fofx</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">){</span><span class="w">
     </span><span class="nf">return</span><span class="p">(((</span><span class="n">k</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">theta</span><span class="o">+</span><span class="n">x</span><span class="p">))</span><span class="o">/</span><span class="n">k</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">fofx</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">),</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"Work Productivity"</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="o">=</span><span class="s2">"Wellbeing"</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"l"</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dotdash"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">xlim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">35</span><span class="p">),</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">),</span><span class="w"> </span><span class="n">main</span><span class="o">=</span><span class="s2">"x-isoclines (red) and y-isoclines (blue)"</span><span class="p">)</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">v</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dotdash"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"red"</span><span class="p">)</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">v</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dashed"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">)</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="s2">"dashed"</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">)</span><span class="w">
</span><span class="n">points</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">fofx</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">))</span><span class="w"> </span><span class="c1"># Interior equalibirum
</span><span class="n">points</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="n">points</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="m">0</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="/img/blog_images/worklife_equations_files/figure-html/unnamed-chunk-4-1.png" alt="" /><!-- --></p>

<p>So there are (up to) three equilibria (i.e., up to one internal equilibrium). Each line segment above has either 1) an up or down (red) or 2) a left or right (blue) direction. Looking at the change along each segment can reveal the direction. For example, for the y-isocline <script type="math/tex">y=0</script>, we can evaluate the instantaneous change of the wellbeing equation at various points along that line, <script type="math/tex">\frac{dx}{dt} \bigg\rvert_{y = 0 } = x (1 - \frac{x}{K})</script>. Here, <script type="math/tex">x</script> is either 0 (which would be an equilibrium point [x=0,y=0]) or positive so we only need to consider the sign of what is in the parentheses. Inside the parentheses, the expression is negative (left direction) when <script type="math/tex">x>K</script> and is positive (right arrow) when <script type="math/tex">% <![CDATA[
x<K %]]></script>. This should make sense: in the absence of <script type="math/tex">y</script>, <script type="math/tex">\frac{dx}{dt}</script> behaves just like a logistic equation and reaches an equilibrium value of <script type="math/tex">K</script>. We know from the logistic that <script type="math/tex">K</script> is a stable equilibrium: any perturbations from it (in only the one-dimensional case, that is), will have <script type="math/tex">x</script> bounce back to <script type="math/tex">K</script>, eventually. The stability of the two-dimensional case need not be stable since perturbations can occur in the y direction.</p>

<h3 id="stablility">Stablility</h3>
<p>To look at stablility, let’s take a look at the Jacobian matrix of this model:</p>

<p><script type="math/tex">% <![CDATA[
J(x,y) = \begin{bmatrix}
\frac{\partial f_1}{\partial x} & \frac{\partial f_1}{\partial y} \\
\frac{\partial f_2}{\partial x} & \frac{\partial f_2}{\partial y}
\end{bmatrix} =
\begin{bmatrix}
-\frac{2 x}{K} - \frac{\theta y}{(\theta + x)^2} + 1 &  -\frac{x}{\theta + x}\\
\frac{\theta y}{(\theta + x)^2} & \frac{x}{\theta + x} - \frac{1}{4}
\end{bmatrix} %]]></script>.</p>

<p>The block below defines some functions that can help us numerically solve individual components of the Jacobian.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">aa</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">){</span><span class="w">
     </span><span class="nf">return</span><span class="p">(</span><span class="o">-</span><span class="p">((</span><span class="m">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">K</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">((</span><span class="n">theta</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">theta</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">bb</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">){</span><span class="w">
     </span><span class="nf">return</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">theta</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">cc</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">){</span><span class="w">
     </span><span class="nf">return</span><span class="p">((</span><span class="n">theta</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">theta</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">dd</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">){</span><span class="w">
     </span><span class="nf">return</span><span class="p">(((</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">theta</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">4</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">trace</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">){</span><span class="w">
     </span><span class="nf">return</span><span class="p">(</span><span class="n">aa</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">)</span><span class="o">+</span><span class="n">dd</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">det</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">){</span><span class="w">
  </span><span class="n">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">aa</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">)</span><span class="o">*</span><span class="n">dd</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">bb</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">)</span><span class="o">*</span><span class="n">cc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">)</span><span class="w">
     </span><span class="nf">return</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>So for point [x=30, y=0] mentioned above with parameters <script type="math/tex">\theta=10</script> and <script type="math/tex">K=30</script>, <script type="math/tex">% <![CDATA[
J(30,0) =
\begin{bmatrix}
-1 & -\frac{3}{4} \\
0 & \frac{1}{2}
\end{bmatrix} %]]></script>. The trace of this is negative (<script type="math/tex">\beta=-\frac{1}{2}</script>) but the determinate is also negative (<script type="math/tex">\gamma=-\frac{1}{2}</script>); thus, the equalibrium point [30,0] is not stable for this model and for these parameters (it’s a saddle).</p>

<p>Let’s take a look at that interior equilibrium [<script type="math/tex">x=\frac{\theta}{3}</script>, <script type="math/tex">y \cong 11.85185</script>]. Here, both the trace and determinate are positive:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># trace
</span><span class="n">beta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">trace</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">fofx</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">),</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="c1"># y = 11.85185
</span><span class="n">beta</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>## [1] 0.1111111
</code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># determinate
</span><span class="n">gamma</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">det</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">fofx</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">),</span><span class="w"> </span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w">
</span><span class="n">gamma</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>## [1] 0.1666667
</code></pre>
</div>

<p>Can we learn anything else? We can take a look at the eigenvalues to determine if there are any complex parts (which would be indicative of oscillations).</p>

<script type="math/tex; mode=display">\lambda_1, \lambda_2 = \frac{\beta \pm \sqrt[]{\beta^2 - 4 \gamma}}{2}</script>

<p>Here we can see there <em>is</em> an imaginary part (negative in the square root). So there’s evidence of oscillations.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">beta</span><span class="o">^</span><span class="m">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="o">*</span><span class="n">gamma</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>## [1] -0.654321
</code></pre>
</div>

<h2 id="visualizing-trajectories-in-r">Visualizing trajectories in R</h2>
<p>Let’s visualize what happens to one’s work/life balance when they start at some point (<script type="math/tex">x>0</script>, <script type="math/tex">y>0</script>) with some fixed pair of parameters. For this part, we’ll use the R package <a href="https://cran.r-project.org/web/packages/deSolve/index.html">deSolve</a>. But first, let’s define a plotting function to visualize trajectories using R’s <a href="https://cran.r-project.org/web/packages/ggplot2/index.html">ggplot2</a>.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">plot_df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">DF</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">){</span><span class="w">
     </span><span class="n">require</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">
     </span><span class="n">require</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">

     </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="nf">max</span><span class="p">(</span><span class="n">DF</span><span class="o">$</span><span class="n">X</span><span class="o">*</span><span class="m">1.5</span><span class="p">),</span><span class="w"> </span><span class="n">length.out</span><span class="o">=</span><span class="m">200</span><span class="p">)</span><span class="w">
     </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">((</span><span class="n">parms</span><span class="p">[</span><span class="s2">"K"</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="s2">"theta"</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="s2">"K"</span><span class="p">])</span><span class="w">
     </span><span class="n">df2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">y</span><span class="o">&gt;=</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">&gt;=</span><span class="m">0</span><span class="p">)</span><span class="w">


     </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">DF</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Y</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="n">geom_path</span><span class="p">(</span><span class="n">arrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arrow</span><span class="p">(</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unit</span><span class="p">(</span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="s2">"inches"</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="n">theme_light</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"Wellbeing"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ylab</span><span class="p">(</span><span class="s2">"Work Productivity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="n">scale_x_continuous</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="m">1.2</span><span class="o">*</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="m">1.2</span><span class="o">*</span><span class="n">DF</span><span class="p">[</span><span class="s2">"X"</span><span class="p">])))))</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="m">1.2</span><span class="o">*</span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="m">1.2</span><span class="o">*</span><span class="n">DF</span><span class="p">[</span><span class="s2">"Y"</span><span class="p">])))))</span><span class="w">

     </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_path</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df2</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">linetype</span><span class="o">=</span><span class="s2">"dotdash"</span><span class="p">)</span><span class="w">
     </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_vline</span><span class="p">(</span><span class="n">xintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">linetype</span><span class="o">=</span><span class="s2">"dotdash"</span><span class="p">)</span><span class="w">

     </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_vline</span><span class="p">(</span><span class="n">xintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parms</span><span class="p">[</span><span class="s2">"theta"</span><span class="p">]</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="n">linetype</span><span class="o">=</span><span class="s1">'dashed'</span><span class="p">)</span><span class="w">
     </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_hline</span><span class="p">(</span><span class="n">yintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="n">linetype</span><span class="o">=</span><span class="s1">'dashed'</span><span class="p">)</span><span class="w">

     </span><span class="nf">return</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>System of ODEs can be written like this:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">model</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">parms</span><span class="p">){</span><span class="w">
     </span><span class="n">with</span><span class="p">(</span><span class="n">as.list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">parms</span><span class="p">)),</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="c1"># y[1] is X and y[2] is Y
</span><span class="w">          </span><span class="n">dX</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">y</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">/</span><span class="n">K</span><span class="p">))</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="m">2</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">+</span><span class="n">theta</span><span class="p">)</span><span class="w">
          </span><span class="n">dY</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">-0.25</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="m">2</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">+</span><span class="n">theta</span><span class="p">)</span><span class="w">
          </span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">dX</span><span class="p">,</span><span class="w"> </span><span class="n">dY</span><span class="p">))</span><span class="w">
     </span><span class="p">})</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Let’s take a look at our parameters that we’ve been working with and start the initial <script type="math/tex">x</script>,<script type="math/tex">y</script> coordinates to [10,10].</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">parms</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="m">10</span><span class="p">)</span><span class="w">
</span><span class="n">yini</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="o">=</span><span class="m">10</span><span class="p">)</span><span class="w">
</span><span class="n">times</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1000</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ode</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yini</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">parms</span><span class="o">=</span><span class="n">parms</span><span class="p">)</span><span class="w">

</span><span class="c1">#diagnostics(out)
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">

</span><span class="n">plot_df</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="/img/blog_images/worklife_equations_files/figure-html/unnamed-chunk-10-1.png" alt="" /><!-- --></p>

<p>In the plot above, we can see that the formation of a periodic orbit: starting at point [10,10] and following 1000 time steps (the last step is where the arrowhead occurs). With this example, <script type="math/tex">\theta</script> was very small and so it makes sense that small changes in work productivity have large changes in wellbeing in this model. Under these conditions, large swings between wellbeing and work productivity occur.</p>

<p>Let’s take a look at another condition: when <script type="math/tex">\theta</script> is larger.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">parms</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="m">30</span><span class="p">)</span><span class="w">
</span><span class="n">yini</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="o">=</span><span class="m">10</span><span class="p">)</span><span class="w">
</span><span class="n">times</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1000</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ode</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yini</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">parms</span><span class="o">=</span><span class="n">parms</span><span class="p">)</span><span class="w">

</span><span class="c1">#diagnostics(out)
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">

</span><span class="n">plot_df</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="/img/blog_images/worklife_equations_files/figure-html/unnamed-chunk-11-1.png" alt="" /><!-- --></p>

<p>When <script type="math/tex">\theta=30</script>, we get a spiral towards the equilibrium! We can see that <script type="math/tex">% <![CDATA[
\beta < 0 %]]></script> and that <script type="math/tex">\gamma > 0</script> so we have stability plus there’s an imaginary part of the eigenvalues so there are oscillations towards this equilibrium.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">beta1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">trace</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">30</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">fofx</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">30</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="m">30</span><span class="p">),</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">)</span><span class="w">
</span><span class="n">beta1</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>## [1] -0.1666667
</code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">gamma1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">det</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">30</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">fofx</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">30</span><span class="o">/</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="m">30</span><span class="p">),</span><span class="w"> </span><span class="n">theta</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">)</span><span class="w">
</span><span class="n">gamma1</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>## [1] 0.125
</code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">beta1</span><span class="o">^</span><span class="m">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="o">*</span><span class="n">gamma1</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>## [1] -0.4722222
</code></pre>
</div>

<p>This result is analogous to that zen coworker you know. In this situation, some event occurred that knocked them off their internal equilibrium by decreasing work productivity. Following that event, their wellbeing increased which, in turn, allowed their work productivity to also increase. That increase to some maximum and then there was a back and forth. Importantly, that back and forth is continually dampened until reaching an equilibrium. Keep in mind that actually reaching the equilibrium wasn’t the point here. The b_ehavior_ of dampening down work/life towards a steady-state was one of the things I was looking for in a work/life balance model.</p>

<h2 id="a-deeper-dive">A deeper dive</h2>
<p>So how do we get some cases where there are orbits and other cases where there are spiraling back towards an equilibrium?</p>

<p>If you look at that x-isocline that curves, you can see a difference between the above two plots above. The y-isocline <script type="math/tex">\frac{\theta}{3}</script> is located on the incline of the curve in the first plot but is on the decline of the curve on the second plot. Let’s take a deeper look to see if the y-isocline position can tell us the trajectory behavior.</p>

<p>Taking the derivitative of the curved x-isocline we can identify the maximum point. So the x-isocline is:</p>

<script type="math/tex; mode=display">y = \frac{(K-x)(\theta + x)}{K}</script>

<p>and the derivative is:</p>

<script type="math/tex; mode=display">y' = \frac{K-\theta - 2 x}{K}</script>

<p>Setting <script type="math/tex">y'</script> to zero and solving for <script type="math/tex">x</script> yields:</p>

<script type="math/tex; mode=display">x = \frac{K-\theta}{2}</script>

<p>So there are three conditions:</p>

<ol>
  <li>
    <p>The y-isocline <script type="math/tex">\frac{\theta}{3}</script> is on the positive slope when <script type="math/tex">% <![CDATA[
\frac{\theta}{3} < \frac{K-\theta}{2} \Rightarrow K > \frac{5}{3}\theta %]]></script> and</p>
  </li>
  <li>
    <p>is on the negative slope when <script type="math/tex">% <![CDATA[
\frac{\theta}{3} > \frac{K-\theta}{2} \Rightarrow K < \frac{5}{3}\theta %]]></script> and</p>
  </li>
  <li>
    <p>zero slope when <script type="math/tex">K = \frac{5}{3}\theta</script></p>
  </li>
</ol>

<h2 id="so-what-does-this-model-tell-us">So what does this model tell us?</h2>
<p>By now you should now that this is just a model and doesn’t necessarily reflect real, stochastic life. That being said, there’s one thing I wanted a model to capture. That is, why some individuals seem to bounce right back from minor perturbations while others seem to be in a constant struggle with work and life vying for their time.</p>

<p>How to achieve zen-like work/life balance? From this model, either 1) reducing the set point of your wellbeing (i.e., being happy with less) or 2) reduce the degree to which work pressures affect your wellbeing or 3) a combination of 1 and 2 are key. Those are no small changes and I recommend the reader to work/life balance books for instruction.</p>

<p>Equations weren’t necessary to say that happier individuals are more productive, of course. Having good work/life balance depends on 1) the set of things that make one happy and 2) the set of work pressures needed to achieve that wellbeing set-point. Here I tried to model that with the <script type="math/tex">K</script> and <script type="math/tex">\theta</script> parameters, respectively. This model makes the assumption that wellbeing is a fixed point and irrelevant to work, which might not reflect reality. For example, another model could include two set points (<script type="math/tex">K_1</script> and <script type="math/tex">K_2</script>, perhaps) in which the contributions of work inherently increase wellbeing. This new model may behave more like mutualism models in ecology. That may be a topic for another post. We’ll see how long we’re in lock-down.</p>

<p>Be safe out there.</p>

  </div>


</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading small-site-title">tyler hether</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list footer-content">
          <li>Powered By <a href="http://github.com/hemangsk/Gravity">Gravity</a></li>
          <li>Made with <i class="fa fa-heart"></i> on <a href="jekyll.com"><span style="color:black">{ { Jekyll } }</a></span></li>


        </ul>
      </div>

      <div class="footer-col footer-col-2 footer-content">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/tylerhether"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">tylerhether</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/live_to_bike"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">live_to_bike</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3 site-description">
        <p>data scientist | family bike and outdoor enthusiast</p>
      </div>
    </div>

  </div>

</footer>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57770011-2', 'auto');
  ga('send', 'pageview');

</script>

  </body>

</html>
